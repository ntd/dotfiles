set nocompatible

" Assume utf-8 everywhere
if has('multi_byte')
    scriptencoding utf-8
    setglobal encoding=utf-8
    setglobal termencoding=utf-8
    setglobal fileencoding=utf-8
endif

" Enable pathogen 'package manager'
runtime bundle/vim-pathogen/autoload/pathogen.vim
call pathogen#infect()

if has('gui_running') || &t_Co >= 88
    set cursorline              " Highlight the current line
endif

if exists('&termguicolors')
    set termguicolors
endif
syntax enable
set background=dark
colorscheme koala

" Not sure the following section is still relevant: commenting it out
" for now, for easily reverting in case the problem is still present
"" Improve colorscheme on vimdiff (otherwise almost unusable)
"highlight! link DiffAdd    DiffChange
"highlight! link DiffDelete DiffChange
"highlight! link DiffText   MatchParen

" Let copy&paste with mouse work
set mouse=
set helplang=en
set incsearch
set hlsearch
set ignorecase
set smartcase
set tabstop=8

" Make the primary selection ("* register) persistent on exit.
" Requires xsel installed.
if executable('xsel')
    autocmd VimLeave * call system("xsel -i", getreg('*'))
endif

" Load local customizations, if any
runtime vimpagerrc-private

" Make : more accessible on italian layout
noremap Ã² :

" Word movement commands
nnoremap wh B
nnoremap wj }
nnoremap wk {
nnoremap wl W
vnoremap wh B
vnoremap wj }
vnoremap wk {
vnoremap wl W
